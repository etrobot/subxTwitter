<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GPT Subscripton for Twitter List</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* Dark theme styles */
    body.dark {
      background-color: #1f2937;
      color: #f8fafc;
    }
    body.dark a,
    body.dark select,
    body.dark input{
      background-color: #374151;
      color: #f8fafc;
      border: 0;
    }

  </style>
</head>

<body >
    <div>
      <button id="theme-toggle" class="px-2 py-1 rounded-md">ğŸŒ’</button>
    </div>
<div class="flex flex-col w-full fixed bottom-0 backdrop-filter backdrop-blur-sm">
  <div class="p-8">
    <p id="title" class="text-center text-2xl font-bold">GPT Subscripton for Twitter List</p>
    <form id="subscribe-form" action="/subscribe" method="post" class="flex flex-col items-center mt-1">
      <div class="flex items-center mt-2 w-full max-w-xs">
        <a href="https://business.twitter.com/en/blog/twitter-101-lists.html" target="_blank" rel="noopener noreferrer"
          class="border border-gray-300 rounded-md px-3 py-1 mt-2 mr-2 max-w-xs">
          ?
        </a>
        <input type="number" name="target_id" placeholder="Enter target ID" required
          class="border border-gray-300 rounded-md px-4 py-1 focus:outline-none focus:ring focus:border-blue-300 mt-2 w-full max-w-xs">

      </div>
      <div class="flex items-center mt-4 w-full max-w-xs">
        <select id="language-select" class="border border-gray-300 mr-1 ml-auto bg-transparent py-1 rounded-md">
         <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
         <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
         <option value="en">English</option>
         <option value="ja">æ—¥æœ¬èª</option>
         <option value="ko">í•œêµ­ì–´</option>
         <option value="es">EspaÃ±ol</option>
         <option value="pt">PortuguÃªs</option>
         <option value="de">Deutsch</option>
         <option value="fr">FranÃ§ais</option>
         <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
         <option value="id">Bahasa(ID)</option>
         <option value="ms">Bahasa Melayu</option>
         <option value="tl">Filipino</option>
         <option value="vi">Tiáº¿ng Viá»‡t</option>
         <option value="pl">Polski</option>
         <option value="nl">Nederlands</option>
        </select>
        <input type="email" name="email" placeholder="Enter your email address" required
        class="border border-gray-300 rounded-md px-4 py-1 focus:outline-none focus:ring focus:border-blue-300 w-full max-w-xs">
      </div>
      <div class="flex items-center mt-4 w-full max-w-xs">
        <span class="ml-auto mr-auto" id="time-label">Daily Push Time</span>
        <input type="time" id="mail-time" required
          class="pl-1 ml-1 mr-1 border border-gray-300 rounded-md py-1 focus:ring focus:border-blue-300">
          <input type="hidden" name="mail_time" id="mail-time-timestamp" value="">
      </div>
      <input type="hidden" name="current_language" id="current-language" value="">
      <button type="submit" class="bg-blue-500 text-white px-4 py-1 rounded-md mt-4 w-full max-w-xs"
        id="subscribe-btn">Subscribe</button>
    </form>
  </div>
</div>
  <script>
    document.getElementById('subscribe-form').addEventListener('submit', function (event) {
      // é˜»æ­¢è¡¨å•çš„é»˜è®¤æäº¤è¡Œä¸º
      event.preventDefault();

      // è·å–å½“å‰æ—¥æœŸå¯¹è±¡
      var currentDate = new Date();

      // è·å–ç”¨æˆ·é€‰æ‹©çš„æ—¶é—´
      var mailTimeValue = document.getElementById('mail-time').value;

      // å°†ç”¨æˆ·é€‰æ‹©çš„æ—¶é—´ä¸å½“å‰æ—¥æœŸæ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²
      var selectedDateTimeString = currentDate.toISOString().slice(0, 10) + 'T' + mailTimeValue;

      // å°†æ‹¼æ¥åçš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³
      var selectedDateTimeTimestamp = new Date(selectedDateTimeString).getTime() / 1000;

      // åˆ¤æ–­ selectedDateTimeTimestamp æ˜¯å¦å°äºå½“å‰æ—¶é—´
      if (selectedDateTimeTimestamp < currentDate.getTime() / 1000) {
        // å¦‚æœæ˜¯ï¼Œåˆ™å¢åŠ ä¸€å¤©
        selectedDateTimeTimestamp += 24 * 60 * 60; // 24å°æ—¶ * 60åˆ†é’Ÿ * 60ç§’
      }

      // å°†å¢åŠ ä¸€å¤©åçš„æ—¶é—´æˆ³è®¾ç½®åˆ°éšè—çš„ input å…ƒç´ ä¸­
      document.getElementById('mail-time-timestamp').value = selectedDateTimeTimestamp;

      // æäº¤è¡¨å•
      this.submit();
    });

    var userLang = navigator.language || navigator.userLanguage;
    var emailInput = document.querySelector('input[name="email"]');
    var targetIdInput = document.querySelector('input[name="target_id"]');
    var timeLabel = document.getElementById("time-label");
    var subscribeBtn = document.getElementById("subscribe-btn");
    var languageSelect = document.getElementById("language-select");
    var themeToggle = document.getElementById("theme-toggle");
    var body = document.body;

    // æ£€æµ‹æµè§ˆå™¨æˆ–ç³»ç»Ÿæ˜¯å¦å¤„äºæ·±è‰²ä¸»é¢˜æ¨¡å¼
    function isDarkTheme() {
      if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        // æµè§ˆå™¨æˆ–ç³»ç»Ÿå¤„äºæ·±è‰²ä¸»é¢˜æ¨¡å¼
        return true;
      } else {
        // æµè§ˆå™¨æˆ–ç³»ç»Ÿå¤„äºæµ…è‰²ä¸»é¢˜æ¨¡å¼
        return false;
      }
    }

    // Toggle theme function
    themeToggle.addEventListener("click", function () {
      body.classList.toggle("dark");
      if (body.classList.contains("dark")) {
        themeToggle.textContent = "â˜€";
      } else {
        themeToggle.textContent = "ï¸ğŸŒ’";
      }
    });

    // æ ¹æ®ç³»ç»Ÿä¸»é¢˜æ¨¡å¼åˆ‡æ¢åˆå§‹ä¸»é¢˜
    if (isDarkTheme()) {
      body.classList.add("dark");
      themeToggle.textContent = "â˜€";
    } else {
      body.classList.remove("dark");
      themeToggle.textContent = "ï¸ğŸŒ’";
    }
    const languageData = {
         "columns": ["emailPlaceholder", "targetIdPlaceholder", "timeLabel", "subscribeBtn", "title"],
         "zh-CN": ["è¯·è¾“å…¥æ‚¨çš„é‚®ç®±", "è¯·è¾“å…¥ç›®æ ‡åˆ—è¡¨ID", "æ¯æ—¥æ¨é€æ—¶é—´", "è®¢é˜…/æ›´æ–°æ—¶é—´", "Twitteråˆ—è¡¨çš„GPTè®¢é˜…"],
         "en": ["Enter your email", "Enter target list ID", "Daily Push Time", "Subscribe / Update Time", "GPT Subscription for Twitter List"],
         "zh-TW": ["è«‹è¼¸å…¥æ‚¨çš„é›»å­éƒµä»¶", "è«‹è¼¸å…¥ç›®æ¨™åˆ—è¡¨ID", "æ¯æ—¥æ¨é€æ™‚é–“", "è¨‚é–±/æ›´æ–°æ™‚é–“", "Twitteråˆ—è¡¨çš„GPTè¨‚é–±"],
         "ja": ["ãƒ¡ãƒ¼ãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„", "ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒªã‚¹ãƒˆIDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„", "ãƒ‡ã‚¤ãƒªãƒ¼ãƒ—ãƒƒã‚·ãƒ¥æ™‚é–“", "è³¼èª­/æ›´æ–°æ™‚é–“", "Twitterãƒªã‚¹ãƒˆã®GPTã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³"],
         "ko": ["ì´ë©”ì¼ ë¥¼ ì…ë ¥í•˜ì„¸ìš”", "ëŒ€ìƒ ëª©ë¡ IDë¥¼ ì…ë ¥í•˜ì„¸ìš”", "ë§¤ì¼ í‘¸ì‹œ ì‹œê°„", "êµ¬ë…/ì—…ë°ì´íŠ¸ ì‹œê°„", "Twitter ëª©ë¡ì„ ìœ„í•œ GPT êµ¬ë…"],
         "es": ["Ingrese su correo electrÃ³nico", "Ingrese el ID de la lista de destino", "Hora de envÃ­o diario", "Suscribirse / Actualizar hora", "SuscripciÃ³n GPT para la lista de Twitter"],
         "pt": ["Digite seu de e-mail", "Digite o ID da lista de destino", "HorÃ¡rio de envio diÃ¡rio", "Inscrever-se / Atualizar hora", "Assinatura GPT para Lista do Twitter"],
         "de": ["Geben Sie Ihre E-Mail ein", "Geben Sie die Ziellisten-ID ein", "TÃ¤gliche Push-Zeit", "Abonnieren / Aktualisieren der Zeit", "GPT-Abonnement fÃ¼r Twitter-Liste"],
         "fr": ["Entrez votre e-mail", "Entrez l'identifiant de la liste cible", "Heure d'envoi quotidienne", "S'abonner / Mettre Ã  jour l'heure", "Abonnement GPT pour la liste Twitter"],
         "ar": ["Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ", "Ø£Ø¯Ø®Ù„ Ù…Ø¹Ø±Ù Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‡Ø¯Ù", "ÙˆÙ‚Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„ÙŠÙˆÙ…ÙŠ", "Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ / ÙˆÙ‚Øª Ø§Ù„ØªØ­Ø¯ÙŠØ«","Ø§Ø´ØªØ±Ø§Ùƒ GPT Ù„Ù‚Ø§Ø¦Ù…Ø© ØªÙˆÙŠØªØ±"],
         "id": ["Masukkan email Anda", "Masukkan ID daftar target", "Waktu Dorong Harian", "Berlangganan / Perbarui Waktu", "Langganan GPT untuk Daftar Twitter"],
         "ms": ["Masukkan emel anda", "Masukkan ID senarai sasaran", "Masa Dorong Harian", "Langgan / Kemas kini Masa", "Langganan GPT untuk Senarai Twitter"],
         "tl": ["Maglagay ng iyong email", "Maglagay ng ID ng target list", "Araw-araw na Oras ng Pag-push", "Mag-subscribe / Mag-update ng Oras", "GPT Subscription para sa Twitter List"],
         "vi": ["Nháº­p email cá»§a báº¡n", "Nháº­p ID danh sÃ¡ch má»¥c tiÃªu", "Thá»i gian Ä‘áº©y hÃ ng hÃ ng ngÃ y", "ÄÄƒng kÃ½ / Cáº­p nháº­t thá»i gian", "ÄÄƒng kÃ½ GPT cho Danh sÃ¡ch Twitter"],
         "pl": ["WprowadÅº swÃ³j adres e-mail", "WprowadÅº identyfikator listy docelowej", "Codzienny czas wysyÅ‚ki", "Zapisz siÄ™ / Zaktualizuj godzinÄ™", "Subskrypcja GPT dla listy Twitter"],
         "nl": ["Voer uw e-mailadres in", "Voer de doellijst-ID in", "Dagelijkse Push-tijd", "Inschrijven / Bijwerken Tijd", "GPT-abonnement voor Twitter-lijst"]
    };

    // Function to set placeholders and titles based on language
    function setLanguage(selectedLanguage) {
     const placeholders = languageData.columns.reduce((acc, column) => {
      acc[column] = languageData[selectedLanguage][languageData.columns.indexOf(column)];
      return acc;
     }, {});

     emailInput.placeholder = placeholders.emailPlaceholder;
     targetIdInput.placeholder = placeholders.targetIdPlaceholder;
     timeLabel.textContent = placeholders.timeLabel;
     subscribeBtn.textContent = placeholders.subscribeBtn;
     document.getElementById("title").textContent = placeholders.title;
    }

    // Initial set of placeholders and titles
    setLanguage(userLang);
    var defaultLanguageInput = document.getElementById("current-language");
    defaultLanguageInput.value = userLang;

    // Toggle language function
    languageSelect.addEventListener("change", function () {
      var selectedLanguage = languageSelect.value;
      setLanguage(selectedLanguage);
      // æ›´æ–°éšè— input çš„å€¼
      var currentLanguageInput = document.getElementById("current-language");
      currentLanguageInput.value = selectedLanguage;
    });
  </script>
  </div>
</body>

</html>