<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GPT Subscripton for Twitter List</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
    /* Dark theme styles */
    body.dark {
      background-color:#212129;
      color: #ccc;
    }
    body.dark input{
        color: #000;
    }
    @media (min-width: 768px) {
        .subcard{
            max-width:360px;
        }
        #parentContainer {
            margin-left: 360px;
        }
        .sidebar{
            position:fixed;
        }
    }
    #title {
        background: linear-gradient(to right, #4085f3, aqua);
        -webkit-background-clip: text;
        color: transparent;
        display: inline-block;
    }

    </style>
</head>

<body class="bg-gray-100">

<div class="sidebar w-full max-w-sm items-center">
    <div><button id="theme-toggle" class="px-2 rounded">🌒</button></div>
    <div class="w-full text-center font-bold"><div id="title">GPT Subscripton for Twitter List</div></div>
    <p class="text-xs mt-4 w-80 m-auto leading-loose">
    <a  href="/zh-CN" class="border-b-2 mr-2">简体中文</a>
    <a href="/zh-TW" class="border-b-2 mr-2">繁體中文</a>
    <a href="/en" class="border-b-2 mr-2">English</a>
    <a href="/ja" class="border-b-2 mr-2">日本語</a>
    <a href="/ko" class="border-b-2 mr-2">한국어</a>
    <a href="/es" class="border-b-2 mr-2">Español</a>
    <a href="/pt" class="border-b-2 mr-2">Português</a>
    <a href="/de" class="border-b-2 mr-2">Deutsch</a>
    <a href="/fr" class="border-b-2 mr-2">Français</a>
    <a href="/ar" class="border-b-2 mr-2">العربية</a>
    <a href="/id" class="border-b-2 mr-2">Bahasa Indonesia</a>
    <a href="/ms" class="border-b-2 mr-2">Bahasa Melayu</a>
    <a href="/tl" class="border-b-2 mr-2">Filipino</a>
    <a href="/vi" class="border-b-2 mr-2">Tiếng Việt</a>
    <a href="/pl" class="border-b-2 mr-2">Polski</a>
    <a href="/nl" class="border-b-2 mr-2">Nederlands</a>
    </p>
</div>
<div id="parentContainer" class="flex flex-wrap m-2">
    <div id="originalCard" class="flex flex-col rounded-xl mx-1 my-1 p-4 max-w-md bg-gray-500 bg-opacity-10">
        <div class="flex w-full items-center space-x-2 ">
            <div class="w-16 h-10 rounded overflow-hidden">
                <img src="https://pbs.twimg.com/list_banner_img/1733654690490200064/ig-cUZfi?format=jpg&name=240x240"
                     class="object-none w-full h-full"/>
            </div>

            <a href="https://twitter.com/i/lists/1733652180576686386" class="text-sm w-full">
                <div class="font-bold">AGI Thoughts ➤</div>
                <div class="text-gray-500">1733652180576686386</div>
            </a>
            <button class="subx bg-blue-400 text-white px-3 py-1  rounded-full" value="1733652180576686386">🔔</button>
        </div>
        <div class="mt-2 text-sm">
            Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
            industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
            scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into
            electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of
            Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like
            Aldus PageMaker including versions of Lorem Ipsum.
        </div>
    </div>
</div>
<div class="flex flex-col fixed bottom-0 w-full subcard backdrop-filter backdrop-blur-lg">
    <div class="text-sm px-2 pb-2 pt-2">
        <form id="subscribe-form" action="/subscribe" method="post" class="flex flex-col mb-2">
            <div class="flex items-center  w-full">
                <input type="number" name="target_id" placeholder="Enter target ID" required
                       class="m-1 border border-gray-300 rounded px-4 py-1 focus:outline-none focus:ring focus:border-blue-300  w-full">
                <a href="https://business.twitter.com/en/blog/twitter-101-lists.html" target="_blank"
                   rel="noopener noreferrer"
                   class="border border-white rounded px-3 py-1  mr-2">
                    ?
                </a>
            </div>
            <div class="flex items-center mt-1 w-full">
                <input type="email" name="email" placeholder="Enter your email address" required
                       class="m-1 border border-gray-300 rounded px-4 py-1 focus:outline-none focus:ring focus:border-blue-300 w-full max-w-xs">
                <select id="language-select"
                        class="w-1/2 border border-white mr-1 ml-auto bg-transparent py-1 rounded">
                    <option value="zh-CN">简体中文</option>
                    <option value="zh-TW">繁體中文</option>
                    <option value="en">English</option>
                    <option value="ja">日本語</option>
                    <option value="ko">한국어</option>
                    <option value="es">Español</option>
                    <option value="pt">Português</option>
                    <option value="de">Deutsch</option>
                    <option value="fr">Français</option>
                    <option value="ar">العربية</option>
                    <option value="id">Bahasa Indonesia</option>
                    <option value="ms">Bahasa Melayu</option>
                    <option value="tl">Filipino</option>
                    <option value="vi">Tiếng Việt</option>
                    <option value="pl">Polski</option>
                    <option value="nl">Nederlands</option>
                </select>
            </div>
            <div class="flex mt-1 w-full">
                <input type="time" id="mail-time" required
                       class="w-20 m-1 border border-gray-300 rounded-full py-1 focus:ring focus:border-blue-300">
                <button type="submit" class="bg-blue-500 text-white py-1 rounded-full m-1 w-full"
                        id="subscribe-btn">Subscribe
                </button>
                <input type="hidden" name="mail_time" id="mail-time-timestamp" value="">
            </div>
            <input type="hidden" name="current_language" id="current-language" value="">

        </form>
        <span class="text-xs" id="time-label">Daily Push Time</span><span class="fixed bottom-2 right-2">© subxTwitter 2024</span>
    </div>
</div>

<script>
  // 获取原始卡片元素
  const originalCard = document.getElementById('originalCard');
  // 获取要插入的父元素
  const parentContainer = document.getElementById('parentContainer'); // 替换为实际的父元素ID
  // 定义要创建的卡片数量
  const cardCount = 5; // 替换为你想要的数量
  // 循环复制并插入卡片
  for (let i = 0; i < cardCount; i++) {
    // 使用cloneNode复制元素
    const clonedCard = originalCard.cloneNode(true);
    // 修改一些可能需要个性化的内容，例如链接、文本等
    // 将复制后的元素插入到父容器中
    parentContainer.appendChild(clonedCard);
  }

</script>
<script>
document.querySelector('button.subx').addEventListener('click', function(event) {
  console.log(this.value)
  event.preventDefault();
  document.querySelector('input[name="target_id"]').value = this.value;
});

    document.getElementById('subscribe-form').addEventListener('submit', function (event) {
      // 阻止表单的默认提交行为
      event.preventDefault();

      // 获取当前日期对象
      var currentDate = new Date();

      // 获取用户选择的时间
      var mailTimeValue = document.getElementById('mail-time').value;

      // 将用户选择的时间与当前日期拼接成一个字符串
      var selectedDateTimeString = currentDate.toISOString().slice(0, 10) + 'T' + mailTimeValue;

      // 将拼接后的字符串转换为时间戳
      var selectedDateTimeTimestamp = new Date(selectedDateTimeString).getTime() / 1000;

      // 判断 selectedDateTimeTimestamp 是否小于当前时间
      if (selectedDateTimeTimestamp < currentDate.getTime() / 1000) {
        // 如果是，则增加一天
        selectedDateTimeTimestamp += 24 * 60 * 60; // 24小时 * 60分钟 * 60秒
      }

      // 将增加一天后的时间戳设置到隐藏的 input 元素中
      document.getElementById('mail-time-timestamp').value = selectedDateTimeTimestamp;

      // 提交表单
      this.submit();
    });

    var userLang = navigator.language || navigator.userLanguage;
    var emailInput = document.querySelector('input[name="email"]');
    var targetIdInput = document.querySelector('input[name="target_id"]');
    var timeLabel = document.getElementById("time-label");
    var subscribeBtn = document.getElementById("subscribe-btn");
    var languageSelect = document.getElementById("language-select");
    var themeToggle = document.getElementById("theme-toggle");
    var body = document.body;

    // 检测浏览器或系统是否处于深色主题模式
    function isDarkTheme() {
      if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        // 浏览器或系统处于深色主题模式
        return true;
      } else {
        // 浏览器或系统处于浅色主题模式
        return false;
      }
    }

    // Toggle theme function
    themeToggle.addEventListener("click", function () {
      body.classList.toggle("dark");
      if (body.classList.contains("dark")) {
        themeToggle.textContent = "☀";
      } else {
        themeToggle.textContent = "️🌒";
      }
    });

    // 根据系统主题模式切换初始主题
    if (isDarkTheme()) {
      body.classList.add("dark");
      themeToggle.textContent = "☀";
    } else {
      body.classList.remove("dark");
      themeToggle.textContent = "️🌒";
    }
    const languageData = {
         "columns": ["emailPlaceholder", "targetIdPlaceholder", "timeLabel", "subscribeBtn", "title"],
         "zh-CN": ["请输入您的邮箱", "请输入目标列表ID", "每日推送时间", "订阅/更新设定", "Twitter列表的GPT订阅"],
         "en": ["Enter your email", "Enter target list ID", "Daily Push Time", "Subscribe / Update Setting", "GPT Subscription for Twitter List"],
         "zh-TW": ["請輸入您的電子郵件", "請輸入目標列表ID", "每日推送時間", "訂閱/更新設定", "Twitter列表的GPT訂閱"],
         "ja": ["メールを入力してください", "ターゲットリストIDを入力してください", "デイリープッシュ時間", "購読/更新設定", "TwitterリストのGPTサブスクリプション"],
         "ko": ["이메일 를 입력하세요", "대상 목록 ID를 입력하세요", "매일 푸시 시간", "구독/업데이트 설정", "Twitter 목록을 위한 GPT 구독"],
         "es": ["Ingrese su correo electrónico", "Ingrese el ID de la lista de destino", "Hora de envío diario", "Suscribirse / Actualizar configuración", "Suscripción GPT para la lista de Twitter"],
         "pt": ["Digite seu de e-mail", "Digite o ID da lista de destino", "Horário de envio diário", "Inscrever-se / Atualizar configuração", "Assinatura GPT para Lista do Twitter"],
         "de": ["Geben Sie Ihre E-Mail ein", "Geben Sie die Ziellisten-ID ein", "Tägliche Push-Zeit", "Abonnieren / Aktualisieren der Einstellung", "GPT-Abonnement für Twitter-Liste"],
         "fr": ["Entrez votre e-mail", "Entrez l'identifiant de la liste cible", "Heure d'envoi quotidienne", "S'abonner / Mettre à jour la configuration", "Abonnement GPT pour la liste Twitter"],
         "ar": ["أدخل بريدك الإلكتروني", "أدخل معرف قائمة الهدف", "وقت الدفع اليومي", "الاشتراك / تحديث الإعداد","اشتراك GPT لقائمة تويتر"],
         "id": ["Masukkan email Anda", "Masukkan ID daftar target", "Waktu Dorong Harian", "Berlangganan / Perbarui Pengaturan", "Langganan GPT untuk Daftar Twitter"],
         "ms": ["Masukkan emel anda", "Masukkan ID senarai sasaran", "Masa Dorong Harian", "Langgan / Kemas kini Tetapan", "Langganan GPT untuk Senarai Twitter"],
         "tl": ["Maglagay ng iyong email", "Maglagay ng ID ng target list", "Araw-araw na Oras ng Pag-push", "Mag-subscribe / Mag-update ng Oras", "GPT Subscription para sa Twitter List"],
         "vi": ["Nhập email của bạn", "Nhập ID danh sách mục tiêu", "Thời gian đẩy hàng hàng ngày", "Đăng ký / Cập nhật cài đặt", "Đăng ký GPT cho Danh sách Twitter"],
         "pl": ["Wprowadź swój adres e-mail", "Wprowadź identyfikator listy docelowej", "Codzienny czas wysyłki", "Zapisz się / Zaktualizuj ustawienia", "Subskrypcja GPT dla listy Twitter"],
         "nl": ["Voer uw e-mailadres in", "Voer de doellijst-ID in", "Dagelijkse Push-tijd", "Inschrijven / Bijwerken Instelling", "GPT-abonnement voor Twitter-lijst"]
    };


    // Function to set placeholders and titles based on language
    function setLanguage(selectedLanguage) {
     const placeholders = languageData.columns.reduce((acc, column) => {
      acc[column] = languageData[selectedLanguage][languageData.columns.indexOf(column)];
      return acc;
     }, {});

     emailInput.placeholder = placeholders.emailPlaceholder;
     targetIdInput.placeholder = placeholders.targetIdPlaceholder;
     timeLabel.textContent = placeholders.timeLabel;
     subscribeBtn.textContent = placeholders.subscribeBtn;
     document.getElementById("title").textContent = placeholders.title;
    }

    // Initial set of placeholders and titles
    setLanguage(userLang);
    var defaultLanguageInput = document.getElementById("current-language");
    defaultLanguageInput.value = userLang;

    // Toggle language function
    languageSelect.addEventListener("change", function () {
      var selectedLanguage = languageSelect.value;
      setLanguage(selectedLanguage);
      // 更新隐藏 input 的值
      var currentLanguageInput = document.getElementById("current-language");
      currentLanguageInput.value = selectedLanguage;
    });



</script>
</div>
</body>

</html>